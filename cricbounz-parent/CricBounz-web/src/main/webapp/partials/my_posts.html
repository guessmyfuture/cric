<!--Column middle-->
<div class="col-md-12" id="content" style='border: 0px solid green;'
	ng-controller="dashBoardCtrl">	
	<!--Column middle Start-->
	<div class="row">
		<div infinite-scroll="loadItems()" infinite-scroll-distance="10">
			<div class="col-md-12" ng-show="false">{{postedData | json}}</div>
			<div class="row" style="margin-top: 10px;"
				ng-repeat="post in postedData">
				<div class="col-md-12">
					<div class="panel panel-default">
						<div class="panel-body">
							<section class="post-heading">
								<div class="row">
									<div class="col-md-11">
										<div class="media">
											<div class="media-left">
												<a href="#"> <img class="media-object photo-profile"
													src="{{post.postedUserImageUrl}}" width="40" height="40"
													alt="...">
												</a>
											</div>
											<div class="media-body">
												<a href="#" class="anchor-username"><h4
														class="media-heading">Posted
														By:{{post.postedUserName}}</h4></a> <a href="#" class="anchor-time">{{post.timestamp
													| contextualDate}}</a>
											</div>
										</div>
									</div>
									<div class="col-md-1">
										<a data-target="#"><i
											class="glyphicon glyphicon-chevron-down"></i></a>
									</div>
								</div>
							</section>
							<section class="mbr-gallery mbr-section mbr-section--no-padding">
							   
							   
							   <!-- <ng-gallery images="post.postedImagesJson" thumbs-num="4">
                                </ng-gallery> -->  
                              
							
								<!--<div class="mbr-gallery-layout-default">
									<div class="row mbr-gallery-row no-gutter">
										<div ng-if="post.postedPictures.length == 1"
											ng-repeat="picture in post.postedPictures"
											class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mbr-gallery-item">
											<a data-target="#lightbox" data-slide-to="0"
												data-toggle="modal"> <img src="{{picture}}"> <span
												class="icon glyphicon glyphicon-zoom-in"></span>
											</a>
										</div>
										<div ng-if="post.postedPictures.length == 2"
											ng-repeat="picture in post.postedPictures"
											class="col-lg-6 col-md-6 col-sm-12 col-xs-12 mbr-gallery-item">
											<a data-target="#lightbox" data-slide-to="0"
												data-toggle="modal"> <img src="{{picture}}"> <span
												class="icon glyphicon glyphicon-zoom-in"></span>
											</a>
										</div>
										<div ng-if="post.postedPictures.length == 3"
											ng-repeat="picture in post.postedPictures"
											class="col-lg-4 col-md-4 col-sm-12 col-xs-12 mbr-gallery-item">
											<a data-target="#lightbox" data-slide-to="0"
												data-toggle="modal"> <img src="{{picture}}"> <span
												class="icon glyphicon glyphicon-zoom-in"></span>
											</a>
										</div>
										<div ng-if="post.postedPictures.length > 3"
											ng-repeat="picture in post.postedPictures"
											class="col-lg-4 col-md-4 col-sm-12 col-xs-12 mbr-gallery-item">
											<a data-target="#lightbox" data-slide-to="0"
												data-toggle="modal"> <img src="{{picture}}"> <span
												class="icon glyphicon glyphicon-zoom-in"></span>
											</a>
										</div>
									</div>
								</div>-->
								
							</section>
							<section class="post-body"
								style="background-color: #f7e1b5; padding: 12px;">
								<div class="more" ng-bind="post.postedContent"></div>
							</section>
							<section class="post-footer">
								<hr>
								<div class="post-footer-option container">
									<span class="fa fa-thumbs-up link-post"
										ng-click="$parent.currentLikeList = post.likedUserDetails;likeUpdate(post.postId);" aria-hidden="true"></span>
									<a data-toggle="modal" class="link-post" role="button"
										data-target="#playerModal{{$index}}">Like({{post.likedUserDetails.length}})</a>
									<span class="fa fa-comment link-post"></span> <a
										data-target="#" class="link-post" role="button"
										ng-click="post.isShowAllComment=!post.isShowAllComment">Comment</a>
									<span class="fa fa-reply link-post"></span> <a
										data-toggle="modal" role="button"
										data-target="#shareModal{{$index}}" class="link-post"
										role="button">Share</a>
								</div>


								<!-- Share Popup modal -->
								<div id="shareModal{{$index}}" class="modal fade" role="dialog">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal">&times;</button>
												<h4 class="modal-title">Shared Details</h4>
											</div>
											<div class="modal-body">
											<div class="row" style="margin-top: 10px;">
											  <div class="col-md-12">
											    <input type="text" class="form-control" placeholder="your comment here" ng-model="post.sharedComment">
											  </div>
											</div>
												<div class="row" style="margin-top: 10px;">
													<div class="col-md-12">                                                        
														<div class="panel panel-default">
															<div class="panel-body">
																<section class="post-heading">
																	<div class="row">
																		<div class="col-md-11">
																			<div class="media">
																				<div class="media-left">
																					<a href="#"> <img
																						class="media-object photo-profile"
																						src="{{post.postedUserImageUrl}}" width="40"
																						height="40" alt="...">
																					</a>
																				</div>
																				<div class="media-body">
																					<a href="#" class="anchor-username"><h4
																							class="media-heading">Posted
																							By:{{post.postedUserName}}</h4></a> <a href="#"
																						class="anchor-time">{{post.timestamp |
																						contextualDate}}</a>
																				</div>
																			</div>
																		</div>
																		<div class="col-md-1">
																			<a data-target="#"><i
																				class="glyphicon glyphicon-chevron-down"></i></a>
																		</div>
																	</div>
																</section>
																<section
																	class="mbr-gallery mbr-section mbr-section--no-padding">
																	<div class="mbr-gallery-layout-default">
																		<div class="row mbr-gallery-row no-gutter">
																			<div ng-if="post.postedPictures.length == 1"
																				ng-repeat="picture in post.postedPictures"
																				class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mbr-gallery-item">
																				<a data-target="#lightbox" data-slide-to="0"
																					data-toggle="modal"> <img src="{{picture}}">
																					<span class="icon glyphicon glyphicon-zoom-in"></span>
																				</a>
																			</div>
																			<div ng-if="post.postedPictures.length == 2"
																				ng-repeat="picture in post.postedPictures"
																				class="col-lg-6 col-md-6 col-sm-12 col-xs-12 mbr-gallery-item">
																				<a data-target="#lightbox" data-slide-to="0"
																					data-toggle="modal"> <img src="{{picture}}">
																					<span class="icon glyphicon glyphicon-zoom-in"></span>
																				</a>
																			</div>
																			<div ng-if="post.postedPictures.length == 3"
																				ng-repeat="picture in post.postedPictures"
																				class="col-lg-4 col-md-4 col-sm-12 col-xs-12 mbr-gallery-item">
																				<a data-target="#lightbox" data-slide-to="0"
																					data-toggle="modal"> <img src="{{picture}}">
																					<span class="icon glyphicon glyphicon-zoom-in"></span>
																				</a>
																			</div>
																			<div ng-if="post.postedPictures.length > 3"
																				ng-repeat="picture in post.postedPictures"
																				class="col-lg-4 col-md-4 col-sm-12 col-xs-12 mbr-gallery-item">
																				<a data-target="#lightbox" data-slide-to="0"
																					data-toggle="modal"> <img src="{{picture}}">
																					<span class="icon glyphicon glyphicon-zoom-in"></span>
																				</a>
																			</div>
																		</div>
																	</div>
																</section>
															</div>
														</div>
													</div>
													<section class="post-body"
														style="background-color: #f7e1b5; padding: 12px;">
														<div class="more" ng-bind="post.postedContent"></div>
													</section>
												</div>
											</div>
											<div class="panel-footer">
											 
											
											<div class="col-md-4"> 
											<div class="form-group">
											<select name="privacy"
												class="form-control privacy-dropdown pull-left input-sm" ng-model="post.sharedType">
												<option value="public">Public</option>
												<option value="friendsonly" selected>Only my friends</option>
												<option value="private">Only me</option>
											</select>											
										   </div>
										   </div>										   
										   <button class="btn btn-success col-md-offset-6" data-dismiss="modal" ng-click="updateShare(post.postId,post.sharedComment,post.sharedType);">Share</button> 										
											</div>
										</div>
									</div>
								</div>

								<!-- liked List Popup Modal -->
								<div id="playerModal{{$index}}" class="modal fade" role="dialog">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal">&times;</button>
												<h4 class="modal-title">{{post.likedUserDetails.length}}
													Likes this Post</h4>
											</div>
											<div class="modal-body">
												<div class="row">
													<div class="col-md-12" style="margin-top: 3px;"
														ng-repeat="ud in post.likedUserDetails">
														<a href="#user_profile/{{ud.userID}}" data-dismiss="modal">
														<img check-image ng-src="{{ud.likedUserImage}}"
															class="img" style="width: 50px; height: 50px;"></a>
													 <a href="#user_profile/{{ud.userID}}">{{ud.userName}}</a>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="post-footer-comment-wrapper">
									<div class="comment-form" ng-show="post.isShowAllComment">
										<div class="row">
											<div class="col-md-2 less-padding">
												<div class="col-sm-12">
													<div class="form-group">
														<div class="pull-right">
															<a href=""> <img src="images/member.jpg"
																style='height: 40px; width: 100%;'></a>
														</div>
													</div>
												</div>
											</div>
											<div class="col-md-8 less-padding">
												<div class="form-group">
													<textarea
														placeholder="place your comments.Try Shift + Enter for new line jai1"
														style='width: 100%' ng-model="post.myComment"
														enter-submit="$parent.currentComments =  post.commentDetailsList; updateComment(post.postId, 
                                                              post.myComment); post.myComment = ''"></textarea>
												</div>
											</div>
											<div class="col-md-2 less-padding">
												<div class="form-group" file-browse-button
													style="margin-top: 5px;">
													<a data-target="#" class="btn btn-default pull-left"> <span
														class="glyphicon glyphicon-camera"></span>
													</a>
												</div>
											</div>
										</div>
									</div>
									<div class="row" ng-show="!post.isShowAllComment">
										<div class="col-sm-1 col-md-2">
											<div class="form-group">
												<div class="pull-right">
													<a href=""><img check-image
														ng-src="{{post.commentDetailsList[0].commentedByImage}}"
														title="" style='width: 100%; height: 55px;'> </a>														
												</div>
											</div>
										</div>
										<div class="col-sm-6 col-md-10">
											<div class="form-group">
												<div class="col-md-12" style="word-wrap: break-word;">{{post.commentDetailsList[0].content}}</div>
												<span class="date sub-text"> </span><br> <span
													class="date sub-text">{{post.commentDetailsList[0].timestamp
													| contextualDate}}</span><br>
											</div>
										</div>
									</div>
									<div class="row" ng-repeat="comment in post.commentDetailsList"
										ng-show="post.isShowAllComment">
										<div class="col-sm-1 col-md-2">
											<div class="form-group">
												<div class="pull-right">
													<a href=""><img check-image
														ng-src="{{comment.commentedByImage}}" title=""
														style='width: 100%; height: 55px;'> </a>
												</div>
											</div>
										</div>
										<div class="col-sm-6 col-md-10">
											<div class="form-group">
												<div class="col-md-12" style="word-wrap: break-word;">{{comment.content}}</div>
												<span class="date sub-text"> </span><br> <span
													class="date sub-text">{{comment.timestamp |
													contextualDate}}</span><br>
											</div>
										</div>
									</div>
								</div>
							</section>
						</div>
					</div>
				</div>
			</div>
			<!--<div class="container">
				<div class="row" style="margin-top: 10px">
					<div class="col-sm-1 less-padding">
						<div class="col-sm-8 col-md-8">
							<div class="form-group">
								<div class="pull-right">
									<a href=""> <img src="images/member.jpg"
										style='height: 40px; width: 100%;'></a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-5 col-md-2 less-padding">
						<div class="form-group">
							<textarea
								placeholder="place your comments.Try Shift + Enter for new line jai2"
								style='width: 100%' ng-model="post.myComment"
								enter-submit="$parent.currentComments = post.commentDetailsList; updateComment(post.postId, 
                                      post.myComment); post.myComment = ''"></textarea>
						</div>
					</div>
					<div class="col-sm-2 col-md-2 less-padding">
						<div class="form-group" file-browse-button
							style="margin-top: 5px;">
							<a data-target="#" class="btn btn-default pull-left"> <span
								class="glyphicon glyphicon-camera"></span></a>
						</div>
					</div>
				</div>
				<div class="row" ng-repeat="comment in post.comments" ng-show="true">
					<div class="col-sm-1">
						<div class="form-group">
							<div class="pull-right">
								<a href=""> <img src="{{comment.userImageUrl}}" title=""
									style='width: 100%; height: 55px;'>
								</a>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<p class="">{{comment.content}}</p>
							<span class="date sub-text"> </span><br> <span
								class="date sub-text">{{comment.timestamp|
								contextualDate}}</span><br> <a href="">Like</a>&nbsp &nbsp<a
								href="">Reply</a>
						</div>
					</div>
				</div>
			</div>-->
		</div>
		<div class="" ng-hide="more_items">There are no more items to
			load!</div>
		<!--</div>-->
	</div>
</div>

<!--Column middle End-->
<div id="lightbox" class="modal fade" tabindex="-1" role="dialog"
	aria-labelledby="myLargeModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<button type="button" class="close hidden" data-dismiss="modal"
			aria-hidden="true">×</button>
		<div class="modal-content">
			<div class="modal-body">
				<img src="" alt="" />
			</div>
		</div>
	</div>
</div>
</div>
<script>
	$(document)
			.ready(
					function() {
						// Configure/customize these variables.
						var showChar = 500; // How many characters are shown by default
						var ellipsestext = "...";
						var moretext = "Show more >";
						var lesstext = "Show less";

						$('.more')
								.each(
										function() {
											var content = $(this).html();
											if (content.length > showChar) {
												var c = content.substr(0,
														showChar);
												var h = content.substr(
														showChar,
														content.length
																- showChar);
												var html = c
														+ '<span class="moreellipses">'
														+ ellipsestext
														+ '&nbsp;</span><span class="morecontent"><span>'
														+ h
														+ '</span>&nbsp;&nbsp;<a href="" class="morelink">'
														+ moretext
														+ '</a></span>';
												$(this).html(html);
											}
										});

						$(".morelink").click(function() {
							if ($(this).hasClass("less")) {
								$(this).removeClass("less");
								$(this).html(moretext);
							} else {
								$(this).addClass("less");
								$(this).html(lesstext);
							}
							$(this).parent().prev().toggle();
							$(this).prev().toggle();
							return false;
						});
					});
</script>
