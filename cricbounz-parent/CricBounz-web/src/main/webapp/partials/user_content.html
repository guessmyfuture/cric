<!--Column middle--> 
<div class="col-md-12" id="content" style='border:0px solid green;' ng-controller="dashBoardCtrl">
        <!--Column middle Start-->   
    <div class="row">          
        <div  infinite-scroll="loadItems()" infinite-scroll-distance="10">                 
            <div class="col-md-12" ng-show="false">
                {{postedData[0]| json}}
            </div>                                       
            <div class="row" style="margin-top: 10px;" ng-repeat="post in postedData">
                <div class="col-md-12">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <section class="post-heading">
                                <div class="row">
                                    <div class="col-md-11">
                                        <div class="media">
                                            <div class="media-left">
                                                <a href="#">                                                    
                                                    <img class="media-object photo-profile" src="{{post.postedUserImageUrl}}" width="40" height="40" alt="...">                                                    
                                                </a>
                                            </div>
                                            <div class="media-body">
                                                <a href="#" class="anchor-username"><h4 class="media-heading">Posted By:{{post.postedUserName}}</h4></a> 
                                                <a href="#" class="anchor-time">{{post.timeStamp}}</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-1">
                                        <a data-target="#"><i class="glyphicon glyphicon-chevron-down"></i></a>
                                    </div>
                                </div>             
                            </section>                             
                            <section class="mbr-gallery mbr-section mbr-section--no-padding">  
                                <div class="mbr-gallery-layout-default">
                                    <div class="row mbr-gallery-row no-gutter">
                                        <div ng-if="post.postedPictures.length == 1" ng-repeat="picture in post.postedPictures" 
                                             class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mbr-gallery-item">
                                            <a  data-target="#lightbox" data-slide-to="0" data-toggle="modal">
                                                <img src="{{picture.postImageUrl}}">
                                                <span class="icon glyphicon glyphicon-zoom-in"></span>
                                            </a>
                                        </div>  
                                        <div ng-if="post.postedPictures.length == 2" ng-repeat="picture in post.postedPictures" 
                                             class="col-lg-6 col-md-6 col-sm-12 col-xs-12 mbr-gallery-item">
                                            <a  data-target="#lightbox" data-slide-to="0" data-toggle="modal">
                                                <img src="{{picture.postImageUrl}}">
                                                <span class="icon glyphicon glyphicon-zoom-in"></span>
                                            </a>
                                        </div>  
                                        <div ng-if="post.postedPictures.length == 3" ng-repeat="picture in post.postedPictures" 
                                             class="col-lg-4 col-md-4 col-sm-12 col-xs-12 mbr-gallery-item">
                                            <a  data-target="#lightbox" data-slide-to="0" data-toggle="modal">
                                                <img src="{{picture.postImageUrl}}">
                                                <span class="icon glyphicon glyphicon-zoom-in"></span>
                                            </a>
                                        </div>  
                                        <div ng-if="post.postedPictures.length > 3" ng-repeat="picture in post.postedPictures" 
                                             class="col-lg-4 col-md-4 col-sm-12 col-xs-12 mbr-gallery-item">
                                            <a  data-target="#lightbox" data-slide-to="0" data-toggle="modal">
                                                <img src="{{picture.postImageUrl}}">
                                                <span class="icon glyphicon glyphicon-zoom-in"></span>
                                            </a>
                                        </div>                                 
                                    </div>
                                </div>
                            </section>                                 
                            <section class="post-body" style="background-color: #f7e1b5;padding:12px;">
                                <div class="more" ng-bind="post.postContent">
                                                                
                                </div>
                            </section>
                            <section class="post-footer">
                                <hr>
                                <div class="post-footer-option container">
                                    <span class="fa fa-thumbs-o-up link-post"></span>
                                    <a  ng-style="myStyle" ng-click="$parent.currentLikes = post.likes; likeUpdate('5000', post.postId, post.postedUserId); myStyle = {color: 'blue'};" 
                                        data-target="#" class="link-post" role="button">Like({{post.likes.length}})</a> 
                                    <span class="fa fa-comment link-post"></span>
                                    <a href="#" class="link-post" role="button">Comment</a> 
                                    <span class="fa fa-reply link-post"></span>
                                    <a href="#" class="link-post" role="button">Share</a> 
                                </div>
                                <div class="post-footer-comment-wrapper">
                                    <div class="comment-form">
                                        <div class="row">
                                            <div class="col-md-2 less-padding">
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <div class="pull-right">
                                                            <a href=""> <img src="images/member.jpg" style='height:40px;width:100%;'></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-8 less-padding">
                                                <div class="form-group">
                                                    <textarea placeholder="place your comments.Try Shift + Enter for new line" style='width:100%' 
                                                              ng-model="post.myComment"  enter-submit="$parent.currentComments = post.comments; updateComment(post.postId, 
                                                              post.myComment, '1200'); post.myComment = ''"></textarea>
                                                </div>
                                            </div>
                                            <div class="col-md-2 less-padding">
                                                <div class="form-group" file-browse-button style="margin-top:5px;">
                                                    <a data-target="#"  class="btn btn-default pull-left">
                                                        <span class="glyphicon glyphicon-camera"></span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-repeat="comment in post.comments">
                                        <div class="col-sm-1 col-md-2">
                                            <div class="form-group">
                                                <div class="pull-right">
                                                    <a href="">
                                                        <img src="{{comment.userImageUrl}}" title="" style='width:100%;height:55px;'>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-10">
                                            <div class="form-group">
                                                <div class="col-md-12" style="word-wrap: break-word;">{{comment.message}}</div>
                                                <span class="date sub-text">                                   
                                                </span><br>
                                                <span class="date sub-text">{{comment.timeStamp| contextualDate}}</span><br>
                                                <a href="">Like</a>&nbsp &nbsp<a href="">Reply</a>
                                            </div>
                                        </div>
                                    </div>                                                
                                </div>
                            </section>
                        </div>
                    </div>   
                </div>  
            </div>         
            <div class="container">
                <div class="row" style="margin-top:10px">
                    <div class="col-sm-1 less-padding">
                        <div class="col-sm-8 col-md-8">
                            <div class="form-group">
                                <div class="pull-right">
                                    <a href=""> <img src="images/member.jpg" style='height:40px;width:100%;'></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-5 col-md-2 less-padding">
                        <div class="form-group">
                            <textarea placeholder="place your comments.Try Shift + Enter for new line" style='width:100%' 
                                      ng-model="post.myComment"  enter-submit="$parent.currentComments = post.comments; updateComment(post.postId, 
                                      post.myComment, '1200'); post.myComment = ''"></textarea>
                        </div>
                    </div>
                    <div class="col-sm-2 col-md-2 less-padding">
                        <div class="form-group" file-browse-button style="margin-top:5px;">
                            <a data-target="#"  class="btn btn-default pull-left">
                                <span class="glyphicon glyphicon-camera"></span></a>
                        </div>
                    </div>
                </div>
                <div class="row" ng-repeat="comment in post.comments">
                    <div class="col-sm-1">
                        <div class="form-group">
                            <div class="pull-right">
                                <a href="">
                                    <img src="{{comment.userImageUrl}}" title="" style='width:100%;height:55px;'>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <p class="">{{comment.message}}</p>
                            <span class="date sub-text">                                   
                            </span><br>
                            <span class="date sub-text">{{comment.timeStamp| contextualDate}}</span><br>
                            <a href="">Like</a>&nbsp &nbsp<a href="">Reply</a>
                        </div>
                    </div>
                </div>                     
            </div>
        </div>               
        <div class="" ng-hide="more_items">
            There are no more items to load! 
        </div>
        <!--</div>-->
    </div>
</div> 

<!--Column middle End--> 
<div id="lightbox" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <button type="button" class="close hidden" data-dismiss="modal" aria-hidden="true">×</button>
        <div class="modal-content">
            <div class="modal-body">
                <img src="" alt="" />
            </div>
        </div>
    </div>
</div>
</div>
<script>
    $(document).ready(function () {
        // Configure/customize these variables.
        var showChar = 500;  // How many characters are shown by default
        var ellipsestext = "...";
        var moretext = "Show more >";
        var lesstext = "Show less";


        $('.more').each(function () {
            var content = $(this).html();
            if (content.length > showChar) {
                var c = content.substr(0, showChar);
                var h = content.substr(showChar, content.length - showChar);
                var html = c + '<span class="moreellipses">' + ellipsestext + '&nbsp;</span><span class="morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="" class="morelink">' + moretext + '</a></span>';
                $(this).html(html);
            }
        });

        $(".morelink").click(function () {
            if ($(this).hasClass("less")) {
                $(this).removeClass("less");
                $(this).html(moretext);
            } else {
                $(this).addClass("less");
                $(this).html(lesstext);
            }
            $(this).parent().prev().toggle();
            $(this).prev().toggle();
            return false;
        });
    });
</script>
